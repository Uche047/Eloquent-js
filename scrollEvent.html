<!DOCTYPE html>
<html>
<head>
	<title>Scroll events</title>
	<style type="text/css">
		#progress {
			border-bottom: 2px solid blue;
			width: 0;
			position: fixed;
			top:0; left:0;
		}
	</style>
</head>
<body>
	<div id="progress"></div>
	<script type="text/javascript">
		// Create some content
		document.body.appendChild(document.createTextNode("supercalifragilisticexpialidocious ".repeat(1000)));
		let bar = document.querySelector("#progress");
		window.addEventListener("scroll",  () => {
			let max = document.body.scrollHeight - innerHeight;
			console.log(pageYOffset,document.body.scrollHeight);
			bar.style.width = `${(pageYOffset / max ) * 100}%`;
		});

		let ticks = 0;
		let clock  = setInterval(() => {
			console.log("tick",ticks++);
			console.log(ticks);
		
			if (ticks == 10) {
				clearInterval(clock);
				console.log("stop.")
			}

		}, 200);
	</script>
</body>
</html>